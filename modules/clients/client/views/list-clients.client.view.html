<section ng-init="find()">
    <md-toolbar md-scroll-shrink>
        <div class="md-toolbar-tools">
            <h1>
                <span>Clientes</span>
            </h1>
            <span flex></span>
            <md-button ui-sref="clients.create" class="md-fab md-mini" aria-label="Favorite">
                <md-icon class="material-icons">plus_one</md-icon>
            </md-button>
        </div>
    </md-toolbar>

    <div class="text-center" ng-show="!clients.length">
        <h2>A&uacute;n no has agregado ning&uacute;n cliente. Â¿Por qu&eacute; no a&ntilde;ades uno?</h2>
        <md-button class="text-center md-raised md-primary" ui-sref="clients.create()">A&ntilde;adir cliente</md-button>
    </div>

    <div ng-show="clients.length">
        <br>

        <form>
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-addon"><span class="glyphicon glyphicon-search"></span></div>
                    <input type="text" class="form-control" placeholder="Buscar cliente..." ng-model="searchClient">
                </div>
            </div>
        </form>
        <table class="table table-striped table-hover table-condensed">
            <thead>
            <tr>
                <th>
                    <a href="#" ng-click="sortType = 'name'; sortReverse = !sortReverse">
                        Nombre
                        <span ng-show="sortType == 'name' && !sortReverse"
                              class="glyphicon glyphicon-triangle-bottom"></span>
                        <span ng-show="sortType == 'name' && sortReverse"
                              class="glyphicon glyphicon-triangle-top"></span>
                    </a>
                </th>
                <th>Tax ID</th>
                <th>Acciones</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="client in clients | orderBy:sortType:sortReverse | filter:searchClient">
                <td><a ui-sref="clients.view({clientId: client._id})">{{client.name}}</a></td>
                <td>{{client.taxId}}</td>
                <td>
                    <md-button class="md-raised" ui-sref="purchase-orders.create({client: client})">
                        <span class="glyphicon glyphicon-shopping-cart"></span>
                        Nueva orden de compra
                    </md-button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</section>